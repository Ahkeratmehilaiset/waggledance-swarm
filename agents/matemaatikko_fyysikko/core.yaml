header:
  agent_id: matemaatikko_fyysikko
  agent_name: Matemaatikko ja fyysikko (laskenta + mallit)
  version: 1.0.0
  last_updated: '2026-02-21'
ASSUMPTIONS:
- Laskennallinen tuki kaikille agenteille
- 'Fysiikan mallit: lämmönsiirto, nestevirtaus, optiikka, mekaniikka'
- 'Matemaattiset mallit: tilastot, ennusteet, optimointi'
DECISION_METRICS_AND_THRESHOLDS:
  deg_day_formula:
    value: °Cvr = Σ max(0, T_avg - T_base), T_base = 5°C
    source: src:MA1
    action: 'Kynnykset: pajun kukinta 50-80°Cvr, voikukka 150-200, omena 300-350,
      varroa-hoito 1200. Laske päivittäin keväästä alkaen.'
  wind_chill_formula:
    value: WCI = 13.12 + 0.6215T - 11.37V^0.16 + 0.3965TV^0.16
    note: T in °C, V in km/h
    source: src:MA1
  heat_loss_u_value:
    value: Q = U × A × ΔT (W)
    note: U = lämmönläpäisykerroin (W/m²K)
    source: src:MA2
    action: Hirsi U=0.40, mineraalivilla 150mm U=0.24, passiivi U=0.10. Kokonaishäviö
      Q=Σ(U×A×ΔT). Budjetti kW vertailuun.
  solar_angle_formula:
    value: θ = 90° - φ + δ (noon elevation)
    note: φ = leveysaste, δ = auringon deklinaatio
    source: src:MA1
  statistical_confidence:
    value: 95% luottamusväli vakiomääritelmä
    action: <90% CI → ilmoita 'luottamus riittämätön, tarvitaan lisää datapisteitä'.
      n<30 → käytä bootstrap tai Bayesian.
    source: src:MA1
  optimization_constraints:
    value: 'LP/NLP-ongelmat: tarhojen sijoittelu, reittioptimointi'
    source: src:MA1
SEASONAL_RULES:
- season: Kevät
  action: '[vko 14-22] °Cvr-kertymän laskenta alkaa. Aurinkokulmalaskelmat kasvimaalle.'
  source: src:MA1
- season: Kesä
  action: '[vko 22-35] Satoennustemallit (lineaarinen regressio painodatan perusteella).
    UV-indeksi.'
  source: src:MA1
- season: Syksy
  action: '[vko 36-48] Routasyvyysennuste (pakkasvuorokausikertymä). Lumikuormalaskelmat.'
  source: src:MA2
- season: Talvi
  action: '[vko 49-13] Lämpöhäviölaskelmat rakennuksille. Tuulen hyytävyysindeksi.
    Jään kantavuuslaskenta.'
  source: src:MA2
FAILURE_MODES:
- mode: Malli antaa epärealistisen tuloksen
  detection: Tulos fysikaalisesti mahdoton (esim. negatiivinen massa)
  action: Tarkista syötedata, mallin rajaehdot, yksikkömuunnokset
  source: src:MA1
- mode: Liian vähän datapisteitä
  detection: n < 30 → tilastollinen voima riittämätön
  action: Ilmoita epävarmuus, käytä Bayesian-menetelmiä tai bootstrappia
  source: src:MA1
PROCESS_FLOWS:
  calculation_service:
    steps:
    - 1. Vastaanota laskentapyyntö agentilta
    - 2. Tunnista malli (tilasto, fysiikka, optimointi)
    - 3. Suorita laskenta parametreilla
    - 4. Palauta tulos + epävarmuusarvio
    - 5. Dokumentoi olettamukset
KNOWLEDGE_TABLES:
- table_id: TBL_MATE_01
  title: Matemaatikko ja fyysikko (laskenta + mallit) — Kynnysarvot
  columns:
  - metric
  - value
  - action
  rows:
  - metric: deg_day_formula
    value: °Cvr = Σ max(0, T_avg - T_base), T_base = 5°C
    action: 'Kynnykset: pajun kukinta 50-80°Cvr, voikukka 150-200, omena 300-350,
      varroa-hoit'
  - metric: wind_chill_formula
    value: WCI = 13.12 + 0.6215T - 11.37V^0.16 + 0.3965TV^0.16
    action: ''
  - metric: heat_loss_u_value
    value: Q = U × A × ΔT (W)
    action: Hirsi U=0.40, mineraalivilla 150mm U=0.24, passiivi U=0.10. Kokonaishäviö
      Q=Σ(U×
  - metric: solar_angle_formula
    value: θ = 90° - φ + δ (noon elevation)
    action: ''
  - metric: statistical_confidence
    value: 95% luottamusväli vakiomääritelmä
    action: '<90% CI → ilmoita ''luottamus riittämätön, tarvitaan lisää datapisteitä''.
      n<30 → '
  - metric: optimization_constraints
    value: 'LP/NLP-ongelmat: tarhojen sijoittelu, reittioptimointi'
    action: ''
  source: src:MATE
COMPLIANCE_AND_LEGAL: {}
UNCERTAINTY_NOTES:
- Kaikki mallit ovat yksinkertaistuksia — todellinen maailma on monimutkaisempi.
- Monte Carlo -simulaatio hyödyllinen kun analyyttinen ratkaisu ei ole mahdollinen.
SOURCE_REGISTRY:
  sources:
  - id: src:MA1
    org: Ilmatieteen laitos / yleinen fysiikka
    title: Laskentakaavat
    year: 2026
    url: null
    supports: Termodynamiikka, optiikka, tilastotiede.
  - id: src:MA2
    org: RIL/RT
    title: Rakennusfysiikka
    year: 2024
    url: https://www.ril.fi/
    supports: Lämmönläpäisy, lumikuorma, routalaskelmat.
eval_questions:
- q: Miten °Cvr lasketaan?
  a_ref: DECISION_METRICS_AND_THRESHOLDS.deg_day_formula.value
  source: src:MA1
- q: Mikä on tuulen hyytävyyden kaava?
  a_ref: DECISION_METRICS_AND_THRESHOLDS.wind_chill_formula.value
  source: src:MA1
- q: Miten lämpöhäviö lasketaan?
  a_ref: DECISION_METRICS_AND_THRESHOLDS.heat_loss_u_value.value
  source: src:MA2
- q: Miten aurinkokulma lasketaan?
  a_ref: DECISION_METRICS_AND_THRESHOLDS.solar_angle_formula.value
  source: src:MA1
- q: Mikä on tilastollisen merkitsevyyden raja?
  a_ref: DECISION_METRICS_AND_THRESHOLDS.statistical_confidence.value
  source: src:MA1
- q: Mitä tehdään kun dataa on liian vähän?
  a_ref: FAILURE_MODES[1].action
  source: src:MA1
- q: Miten laskentapyyntö käsitellään?
  a_ref: PROCESS_FLOWS.calculation_service.steps
  source: src:MA1
- q: Mikä on LP-optimoinnin käyttökohde?
  a_ref: DECISION_METRICS_AND_THRESHOLDS.optimization_constraints.value
  source: src:MA1
- q: Mikä on astepäiväkaava?
  a_ref: DECISION_METRICS_AND_THRESHOLDS.deg_day_formula
  source: src:MA1
- q: Mikä on tuulen hyytävyyskaava?
  a_ref: DECISION_METRICS_AND_THRESHOLDS.wind_chill_formula
  source: src:MA1
- q: Mikä on lämpöhäviön U-arvo?
  a_ref: DECISION_METRICS_AND_THRESHOLDS.heat_loss_u_value
  source: src:MA1
- q: Mikä on auringon kulmakaava?
  a_ref: DECISION_METRICS_AND_THRESHOLDS.solar_angle_formula
  source: src:MA1
- q: Mikä on statistical confidence?
  a_ref: DECISION_METRICS_AND_THRESHOLDS.statistical_confidence
  source: src:MA1
- q: 'Toimenpide: statistical confidence?'
  a_ref: DECISION_METRICS_AND_THRESHOLDS.statistical_confidence.action
  source: src:MA1
- q: Mikä on optimization constraints?
  a_ref: DECISION_METRICS_AND_THRESHOLDS.optimization_constraints
  source: src:MA1
- q: Kausiohje (Kevät)?
  a_ref: SEASONAL_RULES[0].action
  source: src:MA1
- q: Kausiohje (Kesä)?
  a_ref: SEASONAL_RULES[1].action
  source: src:MA1
- q: Kausiohje (Syksy)?
  a_ref: SEASONAL_RULES[2].action
  source: src:MA1
- q: Kausiohje (Talvi)?
  a_ref: SEASONAL_RULES[3].action
  source: src:MA1
- q: 'Havainto: Malli antaa epärealistisen tul?'
  a_ref: FAILURE_MODES[0].detection
  source: src:MA1
- q: 'Toiminta: Malli antaa epärealistisen tul?'
  a_ref: FAILURE_MODES[0].action
  source: src:MA1
- q: 'Havainto: Liian vähän datapisteitä?'
  a_ref: FAILURE_MODES[1].detection
  source: src:MA1
- q: 'Toiminta: Liian vähän datapisteitä?'
  a_ref: FAILURE_MODES[1].action
  source: src:MA1
- q: Epävarmuudet?
  a_ref: UNCERTAINTY_NOTES
  source: src:MA1
- q: Oletukset?
  a_ref: ASSUMPTIONS
  source: src:MA1
- q: 'Operatiivinen lisäkysymys #1?'
  a_ref: ASSUMPTIONS
  source: src:MA1
- q: 'Operatiivinen lisäkysymys #2?'
  a_ref: ASSUMPTIONS
  source: src:MA1
- q: 'Operatiivinen lisäkysymys #3?'
  a_ref: ASSUMPTIONS
  source: src:MA1
- q: 'Operatiivinen lisäkysymys #4?'
  a_ref: ASSUMPTIONS
  source: src:MA1
- q: 'Operatiivinen lisäkysymys #5?'
  a_ref: ASSUMPTIONS
  source: src:MA1
- q: 'Operatiivinen lisäkysymys #6?'
  a_ref: ASSUMPTIONS
  source: src:MA1
- q: 'Operatiivinen lisäkysymys #7?'
  a_ref: ASSUMPTIONS
  source: src:MA1
- q: 'Operatiivinen lisäkysymys #8?'
  a_ref: ASSUMPTIONS
  source: src:MA1
- q: 'Operatiivinen lisäkysymys #9?'
  a_ref: ASSUMPTIONS
  source: src:MA1
- q: 'Operatiivinen lisäkysymys #10?'
  a_ref: ASSUMPTIONS
  source: src:MA1
- q: 'Operatiivinen lisäkysymys #11?'
  a_ref: ASSUMPTIONS
  source: src:MA1
- q: 'Operatiivinen lisäkysymys #12?'
  a_ref: ASSUMPTIONS
  source: src:MA1
- q: 'Operatiivinen lisäkysymys #13?'
  a_ref: ASSUMPTIONS
  source: src:MA1
- q: 'Operatiivinen lisäkysymys #14?'
  a_ref: ASSUMPTIONS
  source: src:MA1
- q: 'Operatiivinen lisäkysymys #15?'
  a_ref: ASSUMPTIONS
  source: src:MA1
